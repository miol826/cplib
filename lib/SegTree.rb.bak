class SegmentTree
  def initialize(n, e)
    @n = 1 << (n - 1).bit_length
    @e = e
    @data = Array.new(2 * @n - 1, @e)
  end
  def update(i, x)
    i += @n - 1
    @data[i] = x
    while i > 0 do
      i = (i - 1) / 2
      @data[i] = operate(@data[i * 2 + 1], @data[i * 2 + 2])
    end
  end
  def find(a, b, i = 0, l = 0, r = @n)
    if r <= a || b <= l then
      return @e
    elsif a <= l && r <= b then
      return @data[i]
    else
      return operate(find(a, b, i * 2 + 1, l, (l + r) / 2), find(a, b, i * 2 + 2, (l + r) / 2, r))
    end
  end
  private
  def operate(x, y)
  end
end
